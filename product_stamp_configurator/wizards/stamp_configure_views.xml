<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="stamp_configure_form" model="ir.ui.view">
        <field name="name">stamp.configure.form</field>
        <field name="model">stamp.configure</field>
        <field name="arch" type="xml">
            <form>
                <group name="main">
                    <group name="general" string="General">
                        <field name="partner_id"/>
                        <field name="origin"/>
                        <field name="ref"/>
                        <field name="sequence"/>
                        <field name="sequence_counter_die"/>
                    </group>
                    <group name="dimensions" string="Dimensions">
                        <field name="size_length"/>
                        <field name="size_width"/>
                        <field name="area"/>
                        <field name="is_area_priced_greater" invisible="1"/>
                        <p
                            class="oe_grey oe_edit_only"
                            colspan="2"
                            attrs="{'invisible': [('is_area_priced_greater', '=', False)]}"
                        >
                            <strong
                            >Note</strong>: price will be calculated using minimum area (<field
                                name="area_priced"
                                nolabel="1"
                                class="oe_inline"
                            />) from pricelist.
                        </p>
                    </group>
                    <group name="die" string="Die">
                        <field name="die_id"/>
                        <field
                            name="product_insert_die_ref_id"
                            attrs="{'invisible': [('is_insert_die', '=', False)], 'required': [('is_insert_die', '=', True)]}"
                        />
                        <field
                            name="insert_die_ref"
                            attrs="{'invisible': [('product_insert_die_ref_id', '=', False)], 'required': [('product_insert_die_ref_id', '!=', False)]}"
                        />
                        <field name="design_id"/>
                        <field name="flat_embossed_foiling" invisible="1"/>
                        <field name="is_embossed" invisible="1"/>
                        <field name="is_insert_die" invisible="1"/>
                        <field
                            name="embossed_design_perc"
                            attrs="{'invisible': [('flat_embossed_foiling', '=', False)], 'required': [('flat_embossed_foiling', '=', True)]}"
                        />
                        <field name="material_id"/>
                        <field name="finishing_id"/>
                        <field name="difficulty_id"/>
                        <field name="quantity_dies"/>
                        <field name="quantity_spare_dies"/>
                        <field name="quantity_dies_total"/>
                    </group>
                    <group
                        name="counter_die"
                        string="Counter Die"
                        attrs="{'invisible': [('is_embossed', '=', False)]}"
                    >
                        <field name="quantity_counter_dies"/>
                        <field
                            name="quantity_counter_spare_dies"
                            attrs="{'invisible': [('quantity_counter_dies', '=', 0)]}"
                        />
                        <field
                            name="quantity_counter_dies_total"
                            attrs="{'invisible': [('quantity_counter_dies', '=', 0)]}"
                        />
                        <field
                            name="material_counter_id"
                            attrs="{'invisible': [('quantity_counter_dies', '=', 0)], 'required': [('quantity_counter_dies', '>', 0)]}"
                        />
                        <field
                            name="category_counter_die_id"
                            options="{'no_create': True}"
                            attrs="{'invisible': ['|', ('quantity_counter_dies', '=', 0), ('category_counter_die_id', '!=', False)], 'required': [('quantity_counter_dies', '>', 0)]}"
                        />
                    </group>
                    <group
                        name="mold"
                        string="Mold"
                        attrs="{'invisible': [('is_embossed', '=', False)]}"
                    >
                        <field name="quantity_mold"/>
                        <field
                            name="category_mold_id"
                            options="{'no_create': True}"
                            attrs="{'invisible': ['|', ('quantity_mold', '=', 0), ('category_mold_id', '!=', False)], 'required': [('quantity_mold', '>', 0)]}"
                        />
                    </group>
                </group>
                <footer>
                    <button
                        name="action_configure"
                        string="Configure"
                        type="object"
                        class="btn-primary"
                    />
                    <button string="Cancel" class="btn-secondary" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>

    <record id="stamp_configure_action" model="ir.actions.act_window">
        <field name="name">Configure</field>
        <field name="res_model">stamp.configure</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
    </record>
</odoo>
